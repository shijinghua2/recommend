webpackJsonp([1],Array(19).concat([function(t,e,s){"use strict";var i={},a="http://127.0.0.1:5432";a="http://47.106.32.55:5432",i.apiUrl=function(t){return a+"/"+t},e.a=i},,,,,,,,,,function(t,e,s){s(127);var i=s(0)(s(59),s(162),"data-v-64eb69b4",null);t.exports=i.exports},,,,,,,,,,,,,,,,,,,,function(t,e,s){s(117);var i=s(0)(s(61),s(152),"data-v-0ca77dd5",null);t.exports=i.exports},function(t,e,s){s(122);var i=s(0)(s(62),s(157),"data-v-4cfdbc1c",null);t.exports=i.exports},function(t,e,s){s(128);var i=s(0)(s(65),s(163),"data-v-69d7ea51",null);t.exports=i.exports},function(t,e,s){"use strict";var i=s(18),a=s.n(i),n=s(168),r=s(148),o=s.n(r),u=s(146),c=s.n(u),l=s(150),d=s.n(l),m=s(151),p=s.n(m),g=s(147),f=s.n(g),v=s(149),b=s.n(v);a.a.use(n.a),e.a=new n.a({routes:[{path:"/",name:"HomeView",redirect:"/pages/book"},{path:"/pages",component:o.a,children:[{path:"",redirect:"/pages/book"},{path:"book",name:"BookView",component:c.a}]},{path:"/pages/tag/:id/:name",name:"TagView",components:{default:o.a,subject:p.a}},{path:"/pages/:classify/subject/:id",name:"SubjectView",components:{default:o.a,subject:d.a}},{path:"/login",name:"LoginView",component:f.a},{path:"/register",name:"RegisterView",component:b.a},{path:"*",redirect:"/pages/"}]})},function(t,e,s){"use strict";var i=s(18),a=s.n(i),n=s(3),r=s(74),o=s(77),u=s(75),c=s(76),l=s(78);a.a.use(n.a),e.a=new n.a.Store({modules:{book:r.a,subject:o.a,group:u.a,search:c.a,user:l.a}})},function(t,e){},function(t,e,s){s(118);var i=s(0)(s(57),s(153),null,null);t.exports=i.exports},,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"header-bar",data:function(){return{showback:!1}},created:function(){this.showback=this.$route.path.indexOf("book")<0}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"loading",data:function(){return{}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"marking",data:function(){return{}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"rating",props:{rating:{type:Object,required:!0}},data:function(){return{full:0,half:0,gray:0}},created:function(){var t=this.rating.average;this.full=parseInt(t/2),this.half=t%2==0?0:1,this.gray=5-this.full-this.half}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(49),a=s.n(i),n=s(29),r=s.n(n);e.default={name:"scroller",props:["title","type","items","loading"],components:{Rating:a.a,Loading:r.a},data:function(){return{}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(6),a=s.n(i),n=s(12),r=s.n(n),o=s(19),u=s(29),c=s.n(u),l=s(3);e.default={name:"scroller",data:function(){return{items:[],title:decodeURIComponent(this.$route.params.name),status:{},loaded:!1}},components:{loading:c.a},computed:a()({},s.i(l.b)({uid:function(t){return t.user.uid}})),watch:{status:{handler:function(t,e){},deep:!0}},methods:{getrating:function(t,e){var s=this;void 0===e&&(this.uid||this.$router.push({name:"LoginView"}),this.$set(this.status,t,-1),r.a.get(o.a.apiUrl("ratings/"+this.uid+"/"+t)).end(function(e,i){if(!e){var a=JSON.parse(i.text);s.$set(s.status,t,a[0].Rating.toFixed(1))}}))}},created:function(){var t=this;r.a.get(o.a.apiUrl("top_tag_books/"+this.$route.params.id+"/8")).end(function(e,s){e||(t.loaded=!0,s.body||(s.body=JSON.parse(s.text)),t.items=s.body.map(function(t){return{id:t.isbn,images:{large:t.imgl,medium:t.imgm,small:t.imgs},title:t.title,isbn10:t.isbn,rating:{average:t.avgr,min:0,max:10,numraters:2}}}))})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(6),a=s.n(i),n=s(3);e.default={name:"sub-nav",props:{mold:{type:String,default:"quickNav"}},data:function(){return{}},computed:a()({currentLink:function(){return this.currentUser.name?"StatusView":"LoginView"},holder:function(){return this.currentUser.name?this.currentUser.name:"请先登录"}},s.i(n.c)(["currentUser"])),methods:{logout:function(){this.$store.commit({type:"logout"}),this.$router.push({name:"BookView"})}},created:function(){localStorage.getItem("email")&&this.$store.commit({type:"getLocalUser"})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"tags",props:{items:{type:Array,required:!0}},data:function(){return{}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(6),a=s.n(i),n=s(3);e.default={name:"user-bar",data:function(){return{}},methods:{logout:function(){alert(1),this.$store.commit({type:"logout"}),this.$router.push({name:"BookView"})}},computed:a()({currentLink:function(){return this.currentUser.uid?"BookView":"LoginView"},holder:function(){return this.currentUser.uid?this.currentUser.uid:"请先登录"}},s.i(n.c)(["currentUser"])),created:function(){localStorage.getItem("email")&&this.$store.commit({type:"getLocalUser"})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(6),a=s.n(i),n=s(3),r=s(50),o=s.n(r),u=s(145),c=s.n(u),l=s(144),d=s.n(l),m=s(51),p=s.n(m);e.default={name:"book-view",components:{Scroller:o.a,UserBar:c.a,SubNav:d.a,Tags:p.a},data:function(){return{itemms:[1],loading:[!0,!0,!0]}},computed:a()({},s.i(n.b)({uid:function(t){return t.user.uid},top:function(t){return t.book.top},recommendtop:function(t){return t.book.recommendtop},topuser:function(t){return t.book.topuser},toptag:function(t){return t.book.toptag}})),methods:{getBook:function(){var t=this;this.$store.dispatch("getBook").then(function(){t.loading[0]=!1}),this.uid&&(this.$store.dispatch("getRecommend",{uid:this.uid,count:8}).then(function(){t.loading[2]=!1}),this.$store.dispatch("getUserRatings",{uid:this.uid,count:10}).then(function(){t.loading[1]=!1}))}},created:function(){this.getBook()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(6),a=s.n(i),n=s(3);e.default={name:"login-view",data:function(){return{loginState:"登录",isDisabled:!1,isShow:0,passType:"password",error:""}},computed:a()({},s.i(n.b)({uid:function(t){return t.user.uid},guid:function(t){return t.user.guid},location:function(t){return t.user.location},age:function(t){return t.user.age}})),methods:{updateData:function(t){this.$store.commit({type:"updateData",name:t.target.name,value:t.target.value})},beforeSubmit:function(){this.isDisabled=!0,this.loginState="正在登录..."},onSuccess:function(t){this.$router.push({name:"BookView"})},onError:function(t){this.error="login failed",this.loginState="登录",this.isDisabled=!1},onSubmit:function(){var t=this;this.beforeSubmit(),this.$store.dispatch({type:"login",uid:this.uid}).then(function(e){t.onSuccess(e)},function(e){t.onError(e)})}},beforeRouteEnter:function(t,e,s){s(function(t){t.$store.getters.currentUser.email?t.$router.push({name:"StatusView"}):s()})},created:function(){localStorage.getItem("email")&&this.$store.commit({type:"getLocalUser"})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(141),a=s.n(i);e.default={name:"pages-view",components:{HeaderBar:a.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"register-view",data:function(){return{isComplete:!1,isDisabled:!1,isShow:0,passType:"password",error:"",email:"",pass:"",name:"",token:""}},methods:{showPwd:function(){this.isShow=this.isShow?0:1,this.isShow?this.passType="text":this.passType="password"},beforeSubmit:function(){this.isDisabled=!0,this.registerState="正在提交..."},onSuccess:function(t){this.isComplete=!0,this.token=t.body.token},onError:function(t){this.error=t.body.error,this.registerState="立即注册",this.isDisabled=!1},onSubmit:function(){var t=this;this.beforeSubmit(),this.$store.dispatch({type:"register",email:this.email,pass:this.pass,name:this.name}).then(function(e){t.onSuccess(e)},function(e){t.onError(e)})}},beforeRouteEnter:function(t,e,s){s(function(t){t.$store.getters.currentUser.email?t.$router.push({name:"StatusView"}):s()})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(6),a=s.n(i),n=s(3),r=s(49),o=s.n(r),u=s(142),c=s.n(u),l=s(50),d=s.n(l),m=s(51),p=s.n(m),g=s(29),f=s.n(g);e.default={name:"subject-view",components:{Rating:o.a,Marking:c.a,Scroller:d.a,Tags:p.a,Loading:f.a},data:function(){return{showLoading:!0,isExpand:!0,items:new Array(5)}},computed:a()({},s.i(n.b)({subject:function(t){return t.subject.subject},adImgUrl:function(t){return t.subject.adImgUrl},questions:function(t){return t.subject.questions}}),s.i(n.c)({subjectMeta:"subjectMeta",summary:"summary",genres:"genres"})),methods:{expand:function(t){this.isExpand=!1}},created:function(){var t=this,e=this.$route.params.id,s=this.$route.params.classify;this.$store.dispatch({type:"getSingleSubject",id:e,classify:s}).then(function(e){t.showLoading=!1})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(s(3),s(143)),a=s.n(i);e.default={name:"tag-book-view",components:{Scroller2:a.a},data:function(){return{itemms:[],loaded:!1}},computed:{},methods:{getBook:function(){}},created:function(){this.getBook()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(18),a=s.n(i),n=s(55),r=s.n(n),o=s(52),u=s(53),c=s(56),l=s.n(c),d=s(54);s.n(d);a.a.use(l.a,{router:o.a}),new a.a({el:"#app",router:o.a,store:u.a,template:"<App/>",components:{App:r.a}})},function(t,e,s){"use strict";var i=s(12),a=s.n(i),n=s(28),r=(s.n(n),s(19)),o={novel:[],travel:[],top:[],recommendtop:[],topuser:[],toptag:[]},u={getBook:function(t,e){switch(e.tag){case"top":t.top=e.res;break;case"recommendtop":t.recommendtop=e.res;break;case"topuser":t.topuser=e.res;break;case"toptag":t.toptag=e.res}}},c={getRecommend:function(t,e){var s=t.commit;a.a.get(r.a.apiUrl("ratings/top/"+e.uid+"/"+e.count)).end(function(t,e){t||(e.body||(e.body=JSON.parse(e.text)),s({type:"getBook",tag:"recommendtop",res:e.body.map(function(t){return{id:t.isbn,images:{large:t.imgl,medium:t.imgm,small:t.imgs},title:t.Title,isbn10:t.isbn,rating:{average:t.Rating,min:0,max:10,numraters:t.Count},href:"javascript:void(0)",color:"#333"}})}))})},getUserRatings:function(t,e){var s=t.commit;a.a.get(r.a.apiUrl("top_user_books/"+e.uid+"/"+e.count)).end(function(t,e){t||(e.body||(e.body=JSON.parse(e.text)),s({type:"getBook",tag:"topuser",res:e.body.map(function(t){return{id:t.isbn,images:{large:t.imgl,medium:t.imgm,small:t.imgs},title:t.title,isbn10:t.isbn,rating:{average:t.avgr,min:0,max:10,numraters:2}}})}))})},getBook:function(t){var e=t.commit;a.a.get(r.a.apiUrl("top_books/20")).end(function(t,s){t||(s.body||(s.body=JSON.parse(s.text)),e({type:"getBook",tag:"top",res:s.body.map(function(t){return{id:t.isbn,images:{large:t.imgl,medium:t.imgm,small:t.imgs},title:t.title,isbn10:t.isbn,rating:{average:t.avgr,min:0,max:10,numraters:2}}})}))}),a.a.get(r.a.apiUrl("top_tags/10")).end(function(t,s){t||(s.body||(s.body=JSON.parse(s.text)),e({type:"getBook",tag:"toptag",res:s.body.map(function(t){return{id:t.id,name:t.name,avgr:t.avgr}})}))})}};e.a={state:o,mutations:u,actions:c}},function(t,e,s){"use strict";var i={group_a:[],group_b:[],group_c:[]},a={getGroup:function(t,e){switch(e.tag){case"a":t.group_a=e.res;break;case"b":t.group_b=e.res;break;case"c":t.group_c=e.res;break;default:console.log("[Error]:Api is error!")}}},n={getGroup:function(t,e){var s=t.commit,i=[{title:"成都租房",subtype:"group",id:1234,images:{small:"https://img3.doubanio.com/icon/g117205-2.jpg"},group_member:"43736",group_topic:{title:"天府四街临江苑套一出租个人 无中介费噢",time:"3分钟前更新："}},{title:"北京租房（非中介）",subtype:"group",id:1234,images:{small:"https://img3.doubanio.com/icon/g279962-3.jpg"},group_member:"53736",group_topic:{title:"9号线丰台南路站看丹桥新华街四里，次卧出租，押一付一",time:"刚刚更新："}},{title:"深圳福田租房（个人房源免费推广）",subtype:"group",id:1234,images:{small:"https://img3.doubanio.com/icon/g117205-2.jpg"},group_member:"4373",group_topic:{title:"福田福民岗厦复式单间整租，2800，可短租",time:"刚刚更新："}}],a=[{title:"想不想很多人帮你！",subtype:"group",id:1234,images:{small:"https://img1.doubanio.com/icon/g14859-17.jpg"},group_member:"431999",group_topic:{title:"想转专业去学日语大家有神马建议？",time:"4分钟前更新："}},{title:"我们都有秘密",subtype:"group",id:1234,images:{small:"https://img5.doubanio.com/icon/g399184-6.jpg"},group_member:"96960",group_topic:{title:"北京 征个女生",time:"1分钟前更新："}},{title:"文艺青年装逼会",subtype:"group",id:1234,images:{small:"https://img1.doubanio.com/icon/g17947-8.jpg"},group_member:"43736",group_topic:{title:"文艺青年装逼会",time:"3分钟前更新："}}],n=[{title:"我爱代购&amp;海淘☺微信号",subtype:"group",id:1234,images:{small:"https://img5.doubanio.com/icon/g37539-6.jpg"},group_member:"431999",group_topic:{title:"靠谱小日代 薇信直播定位+邮寄单号 可拼邮可直邮 保证品 ～笔芯",time:"4分钟前更新："}},{title:"PiaPia团✿团购",subtype:"group",id:1234,images:{small:"https://img3.doubanio.com/icon/g573696-2.jpg"},group_member:"96960",group_topic:{title:"【想买】之前团过的包要吗？",time:"1小时前更新："}},{title:"我们一起海淘",subtype:"group",id:1234,images:{small:"https://img3.doubanio.com/icon/g25704-22.jpg"},group_member:"743736",group_topic:{title:"靠谱小日代 薇信直播定位+邮寄单号 可拼邮可直邮 保正品～笔芯",time:"3分钟前更新："}}];setTimeout(function(){s({type:"getGroup",tag:"a",res:i})},1e3),setTimeout(function(){s({type:"getGroup",tag:"b",res:a})},3e3),setTimeout(function(){s({type:"getGroup",tag:"c",res:n})},200)}};e.a={state:i,mutations:a,actions:n}},function(t,e,s){"use strict";var i=s(12),a=s.n(i),n=s(28),r=s.n(n),o={queryRes_movie:[],queryRes_book:[],queryRes_music:[]},u={query:function(t,e){switch(e.tag){case"movie":t.queryRes_movie=e.res;break;case"book":t.queryRes_book=e.res;break;case"music":t.queryRes_music=e.res;break;default:console.log("[Error]:Api is error!")}}},c={query:function(t,e){var s=t.commit;a.a.get("https://api.douban.com/v2/movie/search?q="+e.queryStr+"&count=3").use(r.a).end(function(t,e){t||s({type:"query",tag:"movie",res:e.body.subjects})})}};e.a={state:o,mutations:u,actions:c}},function(t,e,s){"use strict";var i=s(31),a=s.n(i),n=s(12),r=s.n(n),o=s(28),u=s.n(o),c={subject:{},classify:"",adImgUrl:"http://img.hb.aicdn.com/c1dd2a72fa6412bd455868be68ca402cf9f94b84e688-WMTPtp_fw658",questions:[{title:"大家为什么对国产片这么苛刻？",comments:"35回答"},{title:"有没有人喜欢凯凯王版的汤川学？",comments:"19回答"},{title:"真的有饭店的打包袋长的和优衣库一样吗？",comments:"11回答"},{title:"最后结尾 石鸿问“这道题难吗？”，唐川说“很难”，什么意思？  ?",comments:"7回答"}]},l={subjectMeta:function(t){return"movie"===t.classify?t.subject.year+"/"+t.subject.genres.join(" / ")+" / "+t.subject.casts.map(function(t){return t.name}).join(" / ")+" / "+t.subject.directors.map(function(t){return t.name}).join(" / ")+" / "+t.subject.countries.join(" / "):"book"===t.classify?t.subject.author.join(" / ")+t.subject.translator.join(" / ")+" / "+t.subject.publisher+" / "+t.subject.binding+" / "+t.subject.pages+" / "+t.subject.price+" / "+t.subject.pubdate:void 0},summary:function(t){if(t.subject.summary)return t.subject.summary.slice(0,120)},genres:function(t){return"book"===t.classify?t.subject.tags:"movie"===t.classify?t.subject.genres:void 0}},d={getSingleSubject:function(t,e){t.classify=e.classify,t.subject=e.res}},m={getSingleSubject:function(t,e){var s=t.commit;return new a.a(function(t,i){switch(e.classify){case"movie":r.a.get("https://api.douban.com/v2/"+e.classify+"/subject/"+e.id).use(u.a).end(function(i,a){i||(s({type:"getSingleSubject",classify:e.classify,res:a.body}),t(a))});break;case"book":r.a.get("https://api.douban.com/v2/"+e.classify+"/"+e.id).use(u.a).end(function(i,a){i||(s({type:"getSingleSubject",classify:e.classify,res:a.body}),t(a))});break;default:console.log("[Error]:Api is error!")}})}};e.a={state:c,getters:l,mutations:d,actions:m}},function(t,e,s){"use strict";var i=s(31),a=s.n(i),n=s(12),r=s.n(n),o=s(19),u={uid:"",location:"",age:""},c={currentUser:function(t){return{uid:t.uid,guid:t.guid,location:t.location,age:t.age}}},l={updateData:function(t,e){switch(e.name){case"uid":t.uid=e.value;break;case"guid":t.guid=e.value;break;case"location":t.location=e.name;break;default:console.log("Error:Dont directly mutate Vuex store")}},getLocalUser:function(t){t.uid=localStorage.getItem("uid"),t.location=localStorage.getItem("location"),t.age=localStorage.getItem("age"),t.guid=localStorage.getItem("guid")},setUser:function(t,e){t.uid=e.uid,t.location=e.location,t.age=e.age,t.guid=e.guid},logout:function(t){localStorage.removeItem("uid"),localStorage.removeItem("loation"),localStorage.removeItem("age"),localStorage.removeItem("guid"),t.uid="",t.location="",t.guid="",t.age=""}},d={login:function(t,e){var s=t.commit;return new a.a(function(t,i){r.a.post(o.a.apiUrl("login/"+e.uid)).then(function(e){e.body||(e.body=JSON.parse(e.text)),s({type:"setUser",uid:e.body.uid,guid:e.body.guid,location:e.body.location,age:e.body.age}),t(e)},function(t){i(t)})})}};e.a={state:u,getters:c,mutations:l,actions:d}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,function(t,e,s){t.exports=s.p+"static/img/avatar.9297a89.png"},function(t,e){t.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFQ0JBOEMxMUM0OEExMURGODgxOEIxRTlGOThEMEIyNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFQ0JBOEMxMkM0OEExMURGODgxOEIxRTlGOThEMEIyNCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkVDQkE4QzBGQzQ4QTExREY4ODE4QjFFOUY5OEQwQjI0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVDQkE4QzEwQzQ4QTExREY4ODE4QjFFOUY5OEQwQjI0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQABgQEBAUEBgUFBgkGBQYJCwgGBggLDAoKCwoKDBAMDAwMDAwQDA4PEA8ODBMTFBQTExwbGxscHx8fHx8fHx8fHwEHBwcNDA0YEBAYGhURFRofHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8f/8AAEQgAMAAwAwERAAIRAQMRAf/EAGQAAAICAwEAAAAAAAAAAAAAAAAFAQQCAwYHAQEAAAAAAAAAAAAAAAAAAAAAEAABAwMDBAEFAAAAAAAAAAABAAIDETEEQVEFIYESE8FxkdEiQhEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A99QCAQCAQSLhBCDbi47siZsTelbnYaoOhgw8eBoDGCurj1J7oDIwsedpD2Cujh0I7oOeyYHQTOiddtjuNCg1i4QQgY8IWjKcDcsNPuEDtAIEfNFpywBcMFfrUoKAuEEIM4ZXxSNkYaOaahA8g5fFkaPM+t+oNuxQRkcvixtPrPsfoBbuUCSWV8sjpHmrnGpKDEXCCEDDE4iWVofKfWw2H9H8IGDOJwWjqwuO5J+KIB/E4Lh0YWncE/NUC/M4mWFpfGfZGLj+ggoC4QW+Mx2yZQ9g/Vg8iDY0sgf+TdwgPJu4QHk3cIDybuECDkcdsWYRGP0dRwA0qg//2Q=="},function(t,e,s){s(126);var i=s(0)(s(58),s(161),"data-v-5ed31484",null);t.exports=i.exports},function(t,e,s){s(123);var i=s(0)(s(60),s(158),"data-v-4d7f85ed",null);t.exports=i.exports},function(t,e,s){s(124);var i=s(0)(s(63),s(159),"data-v-56bac5b0",null);t.exports=i.exports},function(t,e,s){s(131);var i=s(0)(s(64),s(167),"data-v-c25ed80a",null);t.exports=i.exports},function(t,e,s){s(121);var i=s(0)(s(66),s(156),"data-v-4cd6a2c0",null);t.exports=i.exports},function(t,e,s){s(125);var i=s(0)(s(67),s(160),"data-v-5bc22e40",null);t.exports=i.exports},function(t,e,s){s(119);var i=s(0)(s(68),s(154),"data-v-1c9dc06c",null);t.exports=i.exports},function(t,e,s){var i=s(0)(s(69),s(165),null,null);t.exports=i.exports},function(t,e,s){s(120);var i=s(0)(s(70),s(155),"data-v-3f8e34cc",null);t.exports=i.exports},function(t,e,s){s(129);var i=s(0)(s(71),s(164),"data-v-792581af",null);t.exports=i.exports},function(t,e,s){s(130);var i=s(0)(s(72),s(166),"data-v-9f1a51b4",null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.rating?s("div",{staticClass:"rating"},[0===t.full?[s("span",[t._v("暂无评分")])]:[t._l(t.full,function(t){return[s("span",{staticClass:"star-full"})]}),t._v(" "),t._l(t.half,function(t){return[s("span",{staticClass:"star-half"})]}),t._v(" "),t._l(t.gray,function(t){return[s("span",{staticClass:"star-gray"})]}),t._v(" "),s("span",{staticClass:"average"},[t._v(t._s(t.rating.average))])],t._v(" "),t._t("ratingsCount")],2):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view",{staticClass:"view"}),t._v(" "),s("router-view",{staticClass:"view",attrs:{name:"subject"}}),t._v(" "),s("router-view",{staticClass:"view",attrs:{name:"search"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-view"},[t._m(0),t._v(" "),s("form",{attrs:{method:"get"},on:{submit:function(e){e.preventDefault(),t.onSubmit()}}},[t.error?s("p",{staticClass:"tip error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),s("div",{staticClass:"form-user"},[s("label",[s("strong",[t._v("用户ID")]),t._v(" "),s("input",{attrs:{type:"text",name:"uid",placeholder:"用户ID"},domProps:{value:t.uid},on:{input:t.updateData}})])]),t._v(" "),s("div",{staticClass:"form-pwd"},[s("label",[s("strong",[t._v("请输入密码")]),t._v(" "),s("span",{staticClass:"show-pwd",class:{show:t.isShow},on:{click:function(e){t.showPwd()}}})])]),t._v(" "),s("div",{},[s("button",{staticClass:"submit",class:{disabled:t.isDisabled},attrs:{type:"submit",disabled:t.isDisabled}},[t._v("\n        "+t._s(t.loginState)+"\n      ")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",[s("a",{attrs:{href:"javascript:history.go(-1);"}},[t._v("取消")]),t._v("登录系统\n  ")])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register-view"},[t.isComplete?[s("h1",{staticClass:"title"},[t._v("注册成功")]),t._v(" "),s("form",{attrs:{method:"post"}},[s("div",{staticClass:"form-submit"},[s("button",{staticClass:"submit",attrs:{type:"submit"}},[s("router-link",{attrs:{to:"/login"}},[t._v("\n          去登录\n        ")])],1)])])]:[s("h1",{staticClass:"title"},[t._v("欢迎加入图书推荐系统")]),t._v(" "),s("form",{attrs:{method:"post"},on:{submit:function(e){e.preventDefault(),t.onSubmit()}}},[t.error?s("p",{staticClass:"tip error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),s("div",{staticClass:"form-alias"},[s("label",[s("strong",[t._v("邮箱")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],attrs:{type:"text",name:"email",placeholder:"邮箱"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"form-pwd"},[s("label",[s("strong",[t._v("请输入密码")]),t._v(" "),"password"===t.passType?[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.pass,expression:"pass",modifiers:{trim:!0}}],attrs:{type:"password",name:"pass",placeholder:"密码"},domProps:{value:t.pass},on:{input:function(e){e.target.composing||(t.pass=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]:t._e(),t._v(" "),"text"===t.passType?[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.pass,expression:"pass",modifiers:{trim:!0}}],attrs:{type:"text",name:"pass",placeholder:"密码"},domProps:{value:t.pass},on:{input:function(e){e.target.composing||(t.pass=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]:t._e(),t._v(" "),s("span",{staticClass:"show-pwd",class:{show:t.isShow},on:{click:function(e){t.showPwd()}}})],2)]),t._v(" "),s("div",{staticClass:"form-name"},[s("label",[s("strong",[t._v("用户名")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],attrs:{type:"text",name:"name",placeholder:"用户名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"form-submit"},[s("button",{staticClass:"submit",class:{disabled:t.isDisabled},attrs:{type:"submit",disabled:t.isDisabled}},[t._v("\n          立即注册\n        ")])])]),t._v(" "),s("div",[s("span",[s("router-link",{attrs:{to:"/login"}},[t._v("\n          已有账号，直接去登录？\n        ")])],1)])]],2)},staticRenderFns:[]}},function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{staticClass:"user-bar",attrs:{to:{name:t.currentLink},tag:"div"}},[i("div",{staticClass:"avatar"},[t.currentUser.uid?[i("img",{attrs:{src:s(139),alt:"avatar"}})]:[i("img",{attrs:{src:s(140),alt:"未登陆"}})]],2),t._v(" "),i("div",{staticClass:"holder"},[t._v(t._s(t.holder))]),t._v(" "),t.currentUser.uid?[i("div",{staticClass:"logout",on:{click:function(e){t.logout()}}},[i("a",{staticClass:"btn-logout",attrs:{href:"#"},on:{click:function(e){t.logout()}}},[t._v("退出登录")])])]:t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"scroller"},[s("div",{staticClass:"header"},[s("h2",[t._v(t._s(t.title))])]),t._v(" "),t.loading?s("loading"):s("div",{staticClass:"content"},[t._t("promItem"),t._v(" "),"hasCover"===t.type?s("ul",{staticClass:"hasCover"},t._l(t.items,function(e,i){return e.images.large?s("li",{key:i},[e.images?s("img",{attrs:{src:e.images.large,alt:""}}):t._e(),t._v(" "),s("span",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),e.rating?s("rating",{attrs:{rating:e.rating}}):t._e()],1):t._e()})):t._e(),t._v(" "),"onlyString"===t.type?s("ul",{staticClass:"onlyString"},t._l(t.items,function(e,i){return s("li",{key:i,staticStyle:{"border-color":"#FFAC2D"}},[e.line?t._e():s("a",{style:{color:e.color},attrs:{href:e.href}},[t._v(t._s(e.title))])])})):t._e()],2)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"marking"},[t._t("movie"),t._v(" "),t._t("book")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loaded?s("div",{staticClass:"scroller"},[s("div",{staticClass:"header"},[s("h2",[t._v(t._s(t.title))])]),t._v(" "),s("div",{staticClass:"content"},[t._t("promItem"),t._v(" "),s("ul",{staticClass:"hasCover"},t._l(t.items,function(e,i){return e.images.large?s("li",{key:i},[s("div",{staticClass:"book"},[e.images?s("img",{attrs:{src:e.images.large,alt:""}}):t._e()]),t._v(" "),s("div",{staticClass:"rate"},[s("span",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("a",{staticClass:"ratebtn",attrs:{href:"#"},on:{click:function(s){t.getrating(e.id,t.status[e.id])}}},[-1==t.status[e.id]?[s("i",{staticClass:"icon-loading"}),t._v(" 获取中\n            ")]:t._e(),t._v(" "),t.status[e.id]?t._e():[t._v("\n              获取评分\n            ")],t._v(" "),t.status[e.id]&&-1!=t.status[e.id]?[t._v("\n              "+t._s(t.status[e.id])+"\n            ")]:t._e()],2)])]):t._e()})),t._v(" "),t._e()],2)]):s("loading")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"movie-view has-header"},[s("user-bar"),t._v(" "),s("scroller",{attrs:{title:"评分最高",type:"hasCover",loading:t.loading[0],items:t.top}}),t._v(" "),t.uid?s("scroller",{attrs:{title:"您的最爱",type:"hasCover",loading:t.loading[1],items:t.topuser}}):t._e(),t._v(" "),t.uid?s("scroller",{attrs:{title:"为您推荐",loadingstr:"正在定制您的专属书籍",loading:t.loading[2],type:"onlyString",items:t.recommendtop}}):t._e(),t._v(" "),s("div",{staticClass:"types"},[s("h2",[t._v("分类浏览")]),t._v(" "),s("div",{staticClass:"content"},[s("ul",{staticClass:"type-list"},[s("div",{staticClass:"genres"},[s("tags",{attrs:{items:t.toptag}})],1)])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-bar"},[s("h1",[t._v("\n    图书推荐系统\n    "),s("router-link",{staticClass:"goback",attrs:{to:"/"}},[t._v("首页")])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"loading"},[t._v("\n  数据加载中...\n  ")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tags"},[s("ul",t._l(t.items,function(e,i){return s("li",{key:i},[s("router-link",{attrs:{to:"/pages/tag/"+e.id+"/"+encodeURIComponent(e.name),append:""}},[t._v("\n        "+t._s(e.name?e.name:e)+"\n      ")])],1)}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"subject-view has-header"},[[s("div",{staticClass:"subject-card"},[s("h1",{staticClass:"title"},[t._v(t._s(t.subject.title))]),t._v(" "),s("div",{staticClass:"subject-info"},[s("div",{staticClass:"right"},[s("a",{attrs:{href:"#"}},[t.subject.images?s("img",{attrs:{src:t.subject.images.large,alt:"cover"}}):t._e()])]),t._v(" "),t.subject.rating?s("div",{staticClass:"left"},[s("rating",{attrs:{rating:t.subject.rating}},[s("span",{attrs:{slot:"ratingsCount"},slot:"ratingsCount"},[t._v(t._s(t.subject.ratings_count)+"人评价")])]),t._v(" "),t.subject.author&&t.subjectMeta?[s("p",{staticClass:"meta"},[t._v(t._s(t.subjectMeta))]),t._v(" "),s("a",{staticClass:"buy",attrs:{href:"#"}},[t._v("在豆瓣购买")])]:t._e()],2):t._e()]),t._v(" "),t.subject.author?s("div",{staticClass:"vendors-link"},[t._m(0)]):t._e(),t._v(" "),s("marking",[t.subject.author?s("template",{slot:"book"},[s("router-link",{attrs:{to:{name:"LoginView"}}},[t._v("想读")]),t._v(" "),s("router-link",{attrs:{to:{name:"LoginView"}}},[t._v("在读")]),t._v(" "),s("router-link",{attrs:{to:{name:"LoginView"}}},[t._v("读过")])],1):t._e()],2),t._v(" "),s("div",{staticClass:"subject-intro"},[s("h2",[t._v(t._s(t.subject.title)+"的简介")]),t._v(" "),s("p",[t.summary&&t.subject.summary?[t._v("\n            "+t._s(t.isExpand?t.summary:t.subject.summary)+"……\n          ")]:t._e(),t._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:t.isExpand,expression:"isExpand"}],attrs:{href:"javascript:;"},on:{click:t.expand}},[t._v("\n            (展开)\n          ")])],2)]),t._v(" "),s("div",{staticClass:"genres"},[s("h2",[t._v("查看更多相关分类")]),t._v(" "),t.genres?[s("tags",{attrs:{items:t.genres}})]:t._e()],2)],1),t._v(" "),s("scroller",{attrs:{title:"推荐的豆列",type:"onlyString",items:t.subject}})]],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"link"},[t._v("\n          在哪儿买这本书？\n          "),s("span",{staticClass:"info"},[t._v("\n            豆瓣阅读电子书 66.00元起\n          ")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pages-view"},[s("header-bar"),t._v(" "),s("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"movie-view has-header"},[s("Scroller2",{attrs:{type:"hasCover"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sub-nav"},["navBottom"===t.mold?s("div",{staticClass:"navBottom"},[s("div",{staticClass:"nav-item"},[t.currentUser.uid?[s("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.logout()}}},[t._v("退出登录")])]:[s("router-link",{attrs:{to:{name:"LoginView"},replace:""}},[t._v("登录系统")])]],2)]):t._e(),t._v(" "),"quickNav"===t.mold?s("div",{staticClass:"quickNav"},[s("ul",{staticClass:"quick-nav"},[s("li",[t.currentUser.uid?t._e():[s("router-link",{attrs:{to:{name:"LoginView"},replace:""}},[t._v("登录系统")])]],2)])]):t._e()])},staticRenderFns:[]}}]),[73]);
//# sourceMappingURL=app.3de7c022a3df690f7bcc.js.map